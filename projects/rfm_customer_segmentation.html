<!DOCTYPE HTML>
<!--
	Massively by HTML5 UP
	html5up.net | @ajlkn
	Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->
<html>
	<head>
		<title>Customer segmentation using RFM based analysis</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
		<link rel="stylesheet" href="../assets/css/main.css" />
		<noscript><link rel="stylesheet" href="assets/css/noscript.css" /></noscript>
		<link rel="icon" type="image/png" sizes="32x32" href="../assets/icons/pp.png" />
	</head>
	<!-- Google tag (gtag.js) -->
	<script async src="https://www.googletagmanager.com/gtag/js?id=G-8C73W0QWJQ"></script>
	<script>
	  window.dataLayer = window.dataLayer || [];
	  function gtag(){dataLayer.push(arguments);}
	  gtag('js', new Date());

	  gtag('config', 'G-8C73W0QWJQ');
	</script>
	<body class="is-preload" style="background-image: url('../assets/images/bg/bg.jpg'); background-size: auto;">

		<!-- Wrapper -->
			<div id="wrapper">

				<!-- Header -->
                
					<header id="header">
						<a href="index.html"></a>
					</header>
           
				<!-- Nav -->
					<nav id="nav">
						<ul class="links">
							<li class="active"><a href="../index.html">Projects</a></li>
							<li><a href="../aboutme.html">About Me</a></li>
							<li><a href="../resume.html">Resume</a></li>
                            
						</ul>
						<ul class="icons">
							<li><a href="https://www.linkedin.com/in/phu-phan-02665b209/" target="_blank"  class="icon brands fa-linkedin"><span class="label">LinkedIn</span></a></li>
							<li><a href="https://github.com/phuphan13" target="_blank" class="icon brands fa-github"><span class="label">GitHub</span></a></li>
						</ul>
					</nav>

				<!-- Main -->
					<div id="main">

						<!-- Post -->
                        <section class="post">
                            <header class="major">
                                <h1>Customer segmentation using RFM based analysis</h1>
                            </header>
							<div>
							   <a href="https://rfmcube.com/en/catch-all-guide-on-your-customer-base-rfm-analysis/" target="_blank"><img class='image fit' src="../assets/images/projects/project7/frm.jpg" alt="" />
							   </a>
							   <p></p>
							
							</div>
                            <!-- Text stuff -->
                                <h3>1. Background</h3>
								<p>
                                This project demonstrates a simple approach to perform customer analysis on a historical, transactional database using the RFM based segmentation. 
                                <b>RFM</b> stands for <b>Recency, Frequency and Monetary</b>, which is one of the common techniques used in CRM to
                                category customers into different groups. This project uses Northwind database, Azure Data Studio and Python are used to create RFM metrics, scores, analysis and visualization. 
                                </p>
                                <h3>2. Dataset introduction</h3>
                                <p>
                                    The <b>Northwind</b> database contains sales data for a company called Northwind Traders, which imports
                                    and exports specialty foods around the world. This sample database was originally come with Microsoft
                                    Office suite, but Microsoft also shared the script to create a Northwind data sample in SQL Management tool, 
                                    which can be accessed via this <a href="https://github.com/microsoft/sql-server-samples/tree/master/samples/databases/northwind-pubs" target="_blank">link</a>.

                                    For RFM analysis, this project creates a sample database and use three main tables <b>Customers</b>, <b>Orders</b> and <b>Order Details</b>.

									<h5>Example of Customers table</h5>
									<a href="../assets/images/projects/project7/northwind_customer.jpg" class="image11 main"><img src="../assets/images/projects/project7/northwind_customer.jpg" alt="" /></a><p></p>
									
									<h5>Example of Orders table</h5>
									<a href="../assets/images/projects/project7/northwind_orders.jpg" class="image11 main"><img src="../assets/images/projects/project7/northwind_orders.jpg" alt="" /></a><p></p>
							
									<h5>Example of Order Details table</h5>
									<a href="../assets/images/projects/project7/northwind_orderdetail.jpg" class="image12 main"><img src="../assets/images/projects/project7/northwind_orderdetail.jpg" alt="" /></a>
							
                                </p>
                                <h3>3. RFM Analysis</h3>
								<h4>3.1 What is RFM</h4>
								<p>
									RFM is a marketing technique combining three different factors to rank each individual 
									customer, and assign them into various groups. This helps the company in arranging appropriate
									treaments for each segment, such as offering incentives for VIP customers, or action plans for 
									those who are at risk of being lost as they haven't purchased a long time ago. 
									The three factors are defined as following:

									<ul>
										<li><b>Recency:</b> how long (many day ago) a customer has recently purchased? 1 day ago or 14 days ago?</li>
										<li><b>Frequency:</b> how often (many times) they purchased? It can be how many orders over a defined period </li>
										<li><b>Monetary:</b> how much the customer spent? It can be total sales from all transaction over a defined period</li>
									</ul>
								</p>
								<h4>
									3.2 Calculating RFM scores
								</h4>
								<p>Different businesses can define a scale of scores, for example, a score of 1 to 3 can be 
								   assigned to each factor R, F and M, in which 3 is the best/highest value and 1 is the 
								   worst/lowest value for ranking. A final RFM score is a combination of R/F/M above. 
								   <h5>Example of FRM scores table</h5>
								   <a href="../assets/images/projects/project7/northwind_rfmscore.jpg" class="image main"><img src="../assets/images/projects/project7/northwind_rfmscore.jpg" alt="" /></a><p></p>
								</p>
								<p>
									For example, given the valuation date 10/05/1998, customer "ALFKI" with last purchase about 31 days ago, total orders and sales are 
									6 and $4,596, the R/F/M scores are 2/1/2 respectively. 
									The recency (difference between the last purchase and valuation date) of all customers are calculated and sorted in ascending order, then the top 1/3 part of the list will be assigned 3 (highest score),
									the next 1/3 part and the last 1/3 part will have 2 and 1 (lowest score) respectively. Frequency and Monetary are done 
									using the same logic but in descending order.
								</p>
								<p>
									It also can be divided into 4 tiers (quartile), or 5 tiers (quintile) or percentile depending on the business complexity. 
									Another method to define the tiers is using fixed ranges. For example, if someone purchased within 15 days, assign score of 3, 
									between 15 and 40 days, assign 2, and score 1 to the rest. Frequency and monetary can also be applied using this approach. 
								</p>
								<h4>
									3.3 Segmentation of RFM scores
								</h4>
								<p>
									Given 3 tiers, total segments is 27 (or 3x3x3). Likewise, the case of 4 tiers results in 64 distinct 
									segments (4x4x4). However, it is unnecessary to have so many segments, so marketers should assemble segments that 
									most relevant to the business. 
									<ul>
										<li><b>Champion:</b> who purchase most recently, often and spend most, FRM score 333, 332... </li>
										<li><b>Loyal customer:</b> who not always spent the most, not quite often but always come back, FRM score 232...</li>
										<li><b>Potential loyalist:</b> who not purchase quite often but biggest spenders, FRM score 113, 123...</li>
										<li><b>New customer:</b> who has made initial purchases, either spend most or not, FRM score 313, 312, 311...</li>
										<li>...</li>
										<li><B>Lost customer:</b> who hasn't purchased in some time, FRM score 111, 112, 113...</li>
									</ul>
								</p>
                               	<h3>4. Implementation</h3>	
								<p>
									<b>Azure Data Studio</b> is used to create database Northwind, FRM metric and scores. 
									Python package <b>pyodbc</b> is used to retrieve data from SQL Server, <b>plotly</b> is used for explanatory
									analysis and data visualization. Python code can be found in github below.
									
									<h5>Example of creating the segment table</h5>
									<a href="../assets/images/projects/project7/sql_create_segment.jpg" class="image11 main"><img src="../assets/images/projects/project7/sql_create_segment.jpg" alt="" /></a><p></p>
									<h5>Example of calculating customer statistics and rfm scores</h5>
									<a href="../assets/images/projects/project7/sql_create_rfm_scores.jpg" class="image11 main"><img src="../assets/images/projects/project7/sql_create_rfm_scores.jpg" alt="" /></a><p></p>
							 
								</p>
								
                                <h3>5. Analysis of the results</h3>	
								<h4>Recency vs. Monetary value</h4>
								<p>Customers who recently purchased within 3 months or up to 100 days contributed the majority of total sales. However, most of their individual spendings are capped at $40,000 
									and they are not new customers as well. There are five customers on the bottom right who purchased most recently and total spending is roughly 33% of total sales. 
								</p>
									<a href="../assets/images/projects/project7/recency_vs_monetary.jpg" class="image11 main"><img src="../assets/images/projects/project7/recency_vs_monetary.jpg" alt="" /></a>
							
								<h4>Frequency vs. Monetary</h4>
								<p>The scatter plot indicates that as the frequency of visits increases, the total sales generated also increases. Customers
									in the segments of "Champion", "Loyalist", "Promising" drive higher sales compared to other segments.
								</p>
								<a href="../assets/images/projects/project7/frequency_vs_monetary.jpg" class="image11 main"><img src="../assets/images/projects/project7/frequency_vs_monetary.jpg" alt="" /></a>

								<h4>Recency vs. Frequency</h4>
						        <p>Customers with low frequency are mostly in the segments of "Lost Customers" and "At Risk", they are roughly 31% of total customers.
								This scatter plot indicates that customers who visited recently are more likely to return compared to those who has visited long time ago, 
							    and therefore higher frequency is mainly associated with recent visits. </p>
								<a href="../assets/images/projects/project7/recency_vs_frequency.jpg" class="image11 main"><img src="../assets/images/projects/project7/recency_vs_frequency.jpg" alt="" /></a>

								<h4>Total sales by segments</h4>
								<p>The bar chart indicates that the top 3 segments of "Champion", "Loyal Customer", and "Promising" contributed roughly 83% of total sales ($1.12m vs $1.35m).
                                 "At Risk" customers still generated high sales while the "Potential loyalist" and "New Customers" did not contribute as expected. 

								</p>
								<a href="../assets/images/projects/project7/sales_by_segment.jpg" class="image11 main"><img src="../assets/images/projects/project7/sales_by_segment.jpg" alt="" /></a>
								<h4>Geographic location of the customer segments scaled by total sales</h4><p></p>
								<a href="../assets/images/projects/project7/customer_location.jpg" class="image11 main"><img src="../assets/images/projects/project7/customer_location.jpg" alt="" /></a><p></p>
								<p>
									Other visualizations such as treemap of customer segments can also give some useful insights. These charts can be found in the github Python code below.
								</p>
								
								<h3>6. Conclusion</h4>
								<p>
								RFM analysis is useful to understand customer behaviors, this method is quick, simple and can be applied for 
								different type of businesses such as online, retail etc. However, this technique is a historical analysis and not for prospects. 
								Subjectively defining group of segments can be sensitive to the business and may lose potential customers. Machine learning method such as
								<b>K-Means</b>, <b>DBSCAN</b> together with feature scaling of R/F/M can be incorporated with RFM analysis to build an effective model. This enhancement will be implemented in 
								another post. 
								</p>
                                <p><a href="https://github.com/phuphan13/Customer-Segnmentation-using-FRM" target="_blank">>>Github repo</a></p>
                            </section>
					</div>

				

				<!-- Copyright -->
					<div id="copyright">
						<ul><li></li></ul>
					</div>

			</div>

		<!-- Scripts -->
			<script src="assets/js/jquery.min.js"></script>
			<script src="assets/js/jquery.scrollex.min.js"></script>
			<script src="assets/js/jquery.scrolly.min.js"></script>
			<script src="assets/js/browser.min.js"></script>
			<script src="assets/js/breakpoints.min.js"></script>
			<script src="assets/js/util.js"></script>
			<script src="assets/js/main.js"></script>

	</body>
</html>